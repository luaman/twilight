Project Twilight todo list
--------------------------

Missing stuff needed for 0.2:

We're almost there for 0.2, there are a number of bugs left which need to be
fixed before release, they're marked RC below.

Bugs we know about:

  - RC: When you touch the bottom of a pool, you make a splash sound.  DP
    broke this and DP has fixed it.
  - RC: Fix net_udp (line 112) so we don't resolve non-network connections.
    (Non-trivial)
  - RC: We need to split the model loading into server and client versions.
    (Need to load much less for the server.)
  - RC: Interpolation is broken in both NQ/QW.
    (Can LH do this /please/?)
  - RC: Need to print out Id's Copyright message on engine startup.
    (Knghtbrd? What exactly needs to be printed?)
  - RC: textures with fullbrights need their base color black, see below for
    how this could be done simply...
  - RC: userpath is not properly created if it doesn't exist.  Needs to be.
  - RC: twilight should create ~/.twilight and ~/.twilight/id1 on demand (and
    any other mod directories as needed)
    (Reported by Peter Jay Salzman)
  - lights do not react to moving bmodels, untransforming into the
    bmodel's coordinates would fix this.  This is a stock Quake bug.
  - Quake never checked BSPs very well, a bad one can crash the engine.

  Driver related quirks:
  - RC: Need a 3dfx quirk for limiting vertex array size.  We need the
    output of the OpenGL strings in Win32 for this.
  - 3dfxvgl.dll does not work with Twilight even though it should.  Forest
    can try a minimal example SDL app which binds OpenGL dynamically if we
    get him one.  Workaround: copy 3dfxvgl.dll to opengl32.dll in your Quake
    directory.  NOTE, if you don't have to do this and Twilight works, let
    us know, we are having trouble identifying this problem.
  - Win32 ATI Radeon: Leaving the game via alt-tab when fullscreen leaves
    sound looping.  Trying to return to the game has no effect.  This only
    happens if playing the game, not if watching a demo; watching a demo and
    doing this works.
    (Darkplaces does not have this problem, may be SDL related, very likely
     ATI related as well)
    (Reported by Dry-ice)


Stuff that isn't needed for 0.2, but would be nice:

  - Cleanup of fullbright palette stuff.  Best solution seems to be to have
    several copies of the palette, one full, one fullbright only, one pants,
    one shirt, etc.  This would greatly simplify uploading fullbright
    textures and removal of fullbrights from base textures.
  - clean up the menus, make sure all cvar graphics options
    are listed on the graphics options menu in both nq/qw
  - clean up the Cmd system
  - Merge QW server into QW client ala NQ
  - Build a seperate dedicated server in NQ [LordHavoc]
  - switch to using specific-sized SDL variables for file accesses
  - Convert Cvars from an unsorted list to a hash
  - Use traceline to determine visibility (trace from eye to random places
    in entity bbox), with 1 second visibility timeout (if traceline
    succeeds, reset timeout to realtime + 1), this is as fast as pvs
    checking, and much more effective, use this in server and optionally
    client
  - Add back mirrors at some point
  - Rewrite the sound code so that it is possible to spit out a timed
    sound file which matches frame outputs (for recording videos)
  - JPEG screenshots
  - Nehahra support, total hackishness, *_weirdshit.c  =)
    + fog (as Cvars - ugh)
    + alpha brush/alias models (not trivial, speed hit)
    + EF_FULLBRIGHT (512) for models, generated from .fullbright on server
    + svc_showlmp (35) and svc_hidelmp (36)
    + svc_skybox (37)
    + TE_EXPLOSION3 (16)
    + TE_LIGHTNING4NEH (17)
    + EF_NODRAW (16, incompatible with QW)
    + RestoreGame QC callback on savegame load
    + Custom menus for mod/movie/both (GAH!)
    + nehx00-nehx19, cutscene Cvars
    + Old DP protocol for servers (hey, it's not even a hack!)
    + Scary bloated QSG protocols for movie (proto 250 or nehahra_demo Cvar)
    + Grenade trails for alpha -1 models should be different than normal, the
      movie has a custom trail for the General's cigar.  I shit you not.
    + Anything else?  List it here..
  - gl_colorlights can/should be made to work without +set
  - Transfusion support (FIXME: Is this AKA bloodbath?)
    + Custom sbar
    + Custom keybindings
    + builtin to register Cvars
    + Transparency in brush models (windows)
    + Targa loading for lmps (main menu)
    + Sprite orientation fixes
  - Improve the particle code more.
  - Option to use classic-looking particles?  (slow!)

